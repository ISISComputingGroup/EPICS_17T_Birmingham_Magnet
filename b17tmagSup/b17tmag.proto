InTerminator = "\r\n";
OutTerminator = "\n";

ReplyTimeout = 2000;


# getField {
#     out "output";
#     in "OK:%(\$1:FIELD)fT,%f(\$1:CURR)A";
# }

getfield {
    out "output";
    in output:OK:\dT,\dA;
}
# getField {
#     out "output";
#     in "^[a-zA-Z][a-zA-Z0-9\.\-]{0,28}[a-zA-Z0-9]$";
# }

getHeater {
    out "heater";
    in "heater:OK:[0-3]";
}


# getPersist {
#     out "persistent";
#     in "persistent:OK:%(\$1:FIELD:PERSIST)fT,%f(\$1:CURR:PERSIST)A";
# }

getPersist {
    out "persistent";
    in "persistent:OK:\dft,\dA";
}

getPersistMode {
    out "persistmode";
    in "persistmode:OK:/^(ON|OFF)$/";
}

getReady {
    out "ready";
    in "ready:OK:/^(ON|OFF)$/";
}

getSensA {
    out "sensA";
    in "sensA:OK:[0-9]*\.[0-9]+";
}

getSensB {
    out "sensB";
    in "sensB:OK:[0-9]*\.[0-9]+";
}

setField {
    out "abort";
    out "setfield %f";
    in "setfield:%s";
}

setPersistMode {
    out "setpersist%{ON|OFF}";
    in "setpersist:%s";
}

getTempA {
    out "sensA";
    in "sensA:OK:\d";
}

getTempB {
    out "sensB";
    in "sensB:OK:\d";
}

getSet1 {
    out "setpoint1";
    in "setpoint1:OK:\d";
}

getSet2 {
    out "setpoint2";
    in "setpoint2:OK:\d";
}

setSet1 {
    out "set1 %f";
    in "set1:%s";
}

setSet2 {
    out "set2 %f";
    in "set2:%s";
}

getNeedlePosition {
    out "nv";
    in "nv:OK:\d";
}

# getPressure {
#     out "pressure";
#     in "pressure:OK:%(\$1:PRESSURE:SP:RBV)f,%(\$1:PRESSURE)f";
# }

getPressure {
    out "pressure";
    in "pressure:OK:\d,\d";
}


setPressure {
    out "setpressure %f";
    in "setpressure:[0-9]*\.[0-9]+";
}

setNeedlePosition {
    out "setposition%f";
    in "setposition:%s";
}

getAttoAngle {
    out "attoangle";
    in "attoangle:OK:[0-2]?[0-9]{1,2}.[0-9]?{2}|3[0-5][0-9].[0-9]?{2}|360.00)";
}

getHelLevel {
    out "helevel";
    in "helevel:OK:%d";
}

setAttoAngle {
    out "setangle%f";
    in "setangle:%s";
}

getMacroStatus {
    out "getstatus";
    in "getstatus:OK:%s";
}

